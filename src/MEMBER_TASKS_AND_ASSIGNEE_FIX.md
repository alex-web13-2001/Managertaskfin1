# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –≤–∏–¥–∏–º–æ—Å—Ç—å—é –∑–∞–¥–∞—á —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏ –≤—ã–±–æ—Ä–æ–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π

## –î–∞—Ç–∞: 3 –Ω–æ—è–±—Ä—è 2024

## –ü—Ä–æ–±–ª–µ–º—ã
1. **–ó–∞–¥–∞—á–∏ –Ω–µ –≤–∏–¥–Ω—ã —É—á–∞—Å—Ç–Ω–∏–∫—É –ø—Ä–æ–µ–∫—Ç–∞** - –∫–æ–≥–¥–∞ —É—á–∞—Å—Ç–Ω–∏–∫ –≤—Ö–æ–¥–∏—Ç –≤ –ø—Ä–æ–µ–∫—Ç, –æ–Ω –Ω–µ –≤–∏–¥–∏—Ç –∑–∞–¥–∞—á–∏
2. **–°–ª–µ—Ç–∞–µ—Ç –≤—ã–±–æ—Ä –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ –∑–∞–¥–∞—á–µ** - –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∑–∞–¥–∞—á–∏ –≤—ã–±–æ—Ä –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

## –ü—Ä–∏—á–∏–Ω—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –í–∏–¥–∏–º–æ—Å—Ç—å –∑–∞–¥–∞—á
–ü–æ –¥–∏–∑–∞–π–Ω—É —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∞–≤:
- **Owner (–≤–ª–∞–¥–µ–ª–µ—Ü)** - –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **Collaborator (—É—á–∞—Å—Ç–Ω–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏)** - –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **Member (—É—á–∞—Å—Ç–Ω–∏–∫)** - –≤–∏–¥–∏—Ç –¢–û–õ–¨–ö–û –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –Ω–∞ –Ω–µ–≥–æ –∑–∞–¥–∞—á–∏
- **Viewer (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å)** - –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞–¥–∞—á–∏, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ backend (`/supabase/functions/server/index.tsx`, —Å—Ç—Ä–æ–∫–∏ 551-567):
```typescript
if (!canViewAllProjectTasks(userRole)) {
  // Member can only see tasks assigned to them
  filteredTasks = allProjectTasks.filter((task: any) => task.assigneeId === user.id);
}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫ (member) –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–¥–∞—á–∏, –æ–Ω –µ—ë –Ω–µ —É–≤–∏–¥–∏—Ç.

**–í–ê–ñ–ù–û**: –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–æ–≥–ª–∞—Å–Ω–æ –¥–∏–∑–∞–π–Ω—É —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∞–≤. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —É—á–∞—Å—Ç–Ω–∏–∫ –≤–∏–¥–µ–ª –∑–∞–¥–∞—á—É:
1. –õ–∏–±–æ –Ω–∞–∑–Ω–∞—á—å—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–¥–∞—á–∏ (assigneeId)
2. –õ–∏–±–æ –∏–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ —Ä–æ–ª—å –Ω–∞ "Collaborator" (—É—á–∞—Å—Ç–Ω–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏)

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –°–ª–µ—Ç–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è availableMembers** - –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Å–ø–∏—Å–∫–µ availableMembers (–∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏), —Ç–æ Select –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
2. **useEffect —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º projectId** - –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–µ assigneeId –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è

## –í–Ω–µ—Å—ë–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –≤ availableMembers

**–§–∞–π–ª**: `/components/task-modal.tsx`

–û–±–Ω–æ–≤–ª—ë–Ω useMemo –¥–ª—è `availableMembers` (—Å—Ç—Ä–æ–∫–∏ 471-532):
```typescript
// IMPORTANT: If editing a task and it has an assignee, make sure that assignee is included
// even if they're no longer a member of the project
if (existingTask?.assigneeId && !memberIds.has(existingTask.assigneeId)) {
  console.log(`‚ö†Ô∏è Task assignee ${existingTask.assigneeId} is not in project members, but keeping them in the list`);
  memberIds.add(existingTask.assigneeId);
}
```

**–ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç**: –î–∞–∂–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –±–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º —á–ª–µ–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–∞, –æ–Ω –≤—Å—ë —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "—Å–ª–µ—Ç–∞–Ω–∏–µ" –≤—ã–±–æ—Ä–∞.

### 2. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è projectId

**–§–∞–π–ª**: `/components/task-modal.tsx`

–û–±–Ω–æ–≤–ª—ë–Ω useEffect –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 236-262):
```typescript
React.useEffect(() => {
  if (prevProjectIdRef.current !== projectId) {
    console.log('üîÑ projectId –∏–∑–º–µ–Ω–∏–ª—Å—è:', {
      from: prevProjectIdRef.current,
      to: projectId,
      isPersonal: projectId === 'personal',
      isEditMode: !!taskId,
      currentAssigneeId: assigneeId,
    });
    
    // –õ–æ–≥–∏–∫–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º...
  }
}, [projectId, currentUser, taskId, assigneeId]);
```

### 3. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ backend

**–§–∞–π–ª**: `/supabase/functions/server/index.tsx`

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ (–≤–ª–∞–¥–µ–ª–µ—Ü, —É—á–∞—Å—Ç–Ω–∏–∫–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ assigneeId —á–ª–µ–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –µ—Å–ª–∏ assigneeId –Ω–µ –Ω–∞–π–¥–µ–Ω —Å—Ä–µ–¥–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A (–≤–ª–∞–¥–µ–ª–µ—Ü)
2. **–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B** –≤ –ø—Ä–æ–µ–∫—Ç —Å —Ä–æ–ª—å—é "Member" (—É—á–∞—Å—Ç–Ω–∏–∫)
3. **–°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É –≤ –ø—Ä–æ–µ–∫—Ç–µ** –∏ –ù–ï –Ω–∞–∑–Ω–∞—á–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ù–ï –î–û–õ–ñ–ï–ù –≤–∏–¥–µ—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É (—ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
4. **–ù–∞–∑–Ω–∞—á—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –∑–∞–¥–∞—á–∏**
   - –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –î–û–õ–ñ–ï–ù –≤–∏–¥–µ—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É
5. **–°–æ–∑–¥–∞–π—Ç–µ –µ—â—ë –æ–¥–Ω—É –∑–∞–¥–∞—á—É –∏ –Ω–∞–∑–Ω–∞—á—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –î–û–õ–ñ–ï–ù –≤–∏–¥–µ—Ç—å –æ–±–µ –∑–∞–¥–∞—á–∏, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –Ω–∞ –Ω–µ–≥–æ

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç** –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É"
2. **–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç** (–Ω–µ "–õ–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏")
3. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å"**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏: –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥ `üîç availableMembers –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Å–ø–∏—Å–∫–µ –µ—Å—Ç—å –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏
4. **–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è**
   - –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥ `üë§ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø–æ–ª–µ
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∑–∞–¥–∞—á—É**
   - –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥ `üìù TaskModal - Creating/updating task:`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `assigneeId` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
6. **–û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–¥–∞—á—É –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–±—Ä–∞–Ω –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –ø–æ–ª–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - assigneeId –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ availableMembers

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±–æ—Ä–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –ø—Ä–∏ —Å–º–µ–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏**
2. **–í—ã–±–µ—Ä–∏—Ç–µ "–õ–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏"** –∫–∞–∫ –ø—Ä–æ–µ–∫—Ç
   - –ü–æ–ª–µ "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–∫—Ä—ã—Ç–æ
   - –î–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: [–í–∞—à–µ –∏–º—è] (–≤—ã)"
3. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç**
   - –ü–æ–ª–µ "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å" –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è
   - –í –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–æ–≥ `üîÑ projectId –∏–∑–º–µ–Ω–∏–ª—Å—è:`
   - –ó–Ω–∞—á–µ–Ω–∏–µ assigneeId –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—á–∏—â–µ–Ω–æ
4. **–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç**
   - –ó–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å—Å—è (—ç—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏)

## –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∑–∞–¥–∞—á–∞–º–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è–º–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:

### Frontend (–±—Ä–∞—É–∑–µ—Ä):
- `üîç availableMembers –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
- `üë§ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
- `üîÑ projectId –∏–∑–º–µ–Ω–∏–ª—Å—è:` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- `üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –∏–∑ existingTask:` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∏
- `üìù TaskModal - Creating/updating task:` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

### Backend (Supabase logs):
- `üìÅ User has access to X projects` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `üìã Project "..." : X tasks, user role: ...` - –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `üîí Member role: showing only X assigned tasks` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è member
- `‚úÖ Full access: showing all X tasks` - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø (owner, collaborator, viewer)
- `üìÅ Project found: ...` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏
- `‚úÖ Assignee ... is a valid member` - –≤–∞–ª–∏–¥–∞—Ü–∏—è assigneeId

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–£—á–∞—Å—Ç–Ω–∏–∫ (member) –ù–ï –î–û–õ–ñ–ï–ù –≤–∏–¥–µ—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è:
- –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã (–∫–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏)
- –°–Ω–∏–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

**–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫—É –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∑–∞–¥–∞—á–∞–º:**
1. –ò–∑–º–µ–Ω–∏—Ç–µ –µ–≥–æ —Ä–æ–ª—å –Ω–∞ "Collaborator" (—É—á–∞—Å—Ç–Ω–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏) –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
2. –ò–ª–∏ –Ω–∞–∑–Ω–∞—á—å—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º –Ω—É–∂–Ω—ã—Ö –∑–∞–¥–∞—á

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ø—Ä–æ–µ–∫—Ç–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–£—á–∞—Å—Ç–Ω–∏–∫–∏"
3. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ–≥–æ —Ä–æ–ª—å:
   - "–í–ª–∞–¥–µ–ª–µ—Ü" (owner) - —Å–æ–∑–¥–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞
   - "–£—á–∞—Å—Ç–Ω–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏" (collaborator) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞—á–∞–º
   - "–£—á–∞—Å—Ç–Ω–∏–∫" (member) - —Ç–æ–ª—å–∫–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
   - "–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å" (viewer) - –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–¥–∞—á, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** - –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ª–æ–≥–∏ —Å —ç–º–æ–¥–∑–∏
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–ª—å** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–æ–ª—å –≤ –ø—Ä–æ–µ–∫—Ç–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ** - —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–¥–∞—á–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à** - –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å Ctrl+F5
5. **–ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - –≤–æ–∑–º–æ–∂–Ω–æ, —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–º–µ—é—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –õ–æ–≥–∏–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞: `/contexts/app-context.tsx` (—Ñ—É–Ω–∫—Ü–∏–∏ getUserRoleInProject, canViewAllProjectTasks, canEditTask)
- Backend –ª–æ–≥–∏–∫–∞: `/supabase/functions/server/index.tsx` (—Ñ—É–Ω–∫—Ü–∏–∏ getUserRoleInProject, canViewAllProjectTasks, canEditTask)
- UI –∑–∞–¥–∞—á–∏: `/components/task-modal.tsx` (availableMembers, assigneeId handling)
