# Changelog

Все значимые изменения в проекте T24 Task Manager будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

---

## [1.0.0] - 2025-11-07

### Добавлено

#### Аутентификация
- Регистрация новых пользователей
- Вход в систему с email/password
- Управление сессиями через Supabase Auth
- Автоматическое обновление токенов
- Выход из системы

#### Управление задачами
- Создание, редактирование и удаление задач
- Назначение исполнителей
- Установка приоритетов (низкий, средний, высокий, критический)
- Установка сроков выполнения
- Прикрепление файлов (до 50MB)
- Комментарии к задачам
- Фильтрация по статусу, приоритету, исполнителю
- Поиск по названию

#### Управление проектами
- Создание проектов с описанием
- Выбор цвета проекта (фиолетовый, зелёный, оранжевый, розовый)
- Приглашение участников по email
- Система ролей (владелец, участник с правами, участник, наблюдатель)
- Настройка кастомных колонок Kanban для каждого проекта
- Архивирование проектов
- Удаление проектов (только владелец)

#### Визуализация
- **Kanban доска** с drag & drop
  - Личные задачи
  - Задачи проекта с кастомными колонками
  - Дашборд со всеми задачами
- **Табличный вид** с сортировкой
  - Сортировка по всем полям
  - Фильтрация
  - Массовые действия
- Переключение между режимами просмотра

#### Личные задачи
- Отдельный раздел для персональных задач
- Kanban и табличный вид
- Все возможности обычных задач

#### Справочники
- Категории задач
- Настройка иконок (Lucide icons)
- Настройка цветов
- Создание, редактирование, удаление

#### Профиль пользователя
- Просмотр и редактирование имени
- Изменение email
- Загрузка аватара (до 5MB)
- Изменение пароля

#### Архив
- Просмотр архивных проектов
- Восстановление из архива
- Удаление архивных проектов

#### UI/UX
- Адаптивный дизайн для всех устройств
- Современная цветовая схема
- Toast уведомления (Sonner)
- Анимации (Motion)
- Индикатор загрузки
- Error boundaries для обработки ошибок

#### Backend
- Supabase Edge Functions на Hono
- RESTful API
- JWT аутентификация
- Key-Value хранилище для данных
- Supabase Storage для файлов
- Автоматическое создание demo данных

#### Developer Experience
- TypeScript для type safety
- App Context для глобального состояния
- Polling система (каждые 3 секунды)
- Подробная документация API
- Руководство по развертыванию
- Contributing guidelines

### Исправлено

#### Табличный вид
- Исправлена прокрутка таблиц добавлением `flex flex-col` к родительским контейнерам
- Устранены проблемы с overflow в dashboard-view, tasks-view, project-detail-view

#### Кастомные колонки
- Добавлен polling для автоматического обновления custom columns
- Исправлен fallback к дефолтным статусам при отсутствии кастомных
- Устранены проблемы с синхронизацией колонок между компонентами

#### Права доступа
- Исправлена фильтрация задач для участников (member role)
- Участники теперь корректно видят только назначенные на них задачи
- Владельцы и collaborators видят все задачи проекта
- Наблюдатели имеют read-only доступ

#### Assignee Selection
- Исправлен выбор исполнителя при создании задачи
- Добавлена валидация прав при назначении исполнителей
- Устранены проблемы с отображением аватаров исполнителей

#### Realtime обновления
- Переход с Supabase Realtime на polling систему
- Устранены WASM ошибки в консоли
- Более стабильная синхронизация данных

#### Auth токены
- Исправлено автоматическое обновление access токенов
- Устранены проблемы с истекшими сессиями
- Добавлена обработка 401 ошибок

### Улучшено

#### Производительность
- Оптимизирован polling с debounce
- Кэширование данных в App Context
- Ленивая загрузка компонентов

#### Код
- Рефакторинг компонентов для переиспользования
- Улучшенная типизация TypeScript
- Более чистая структура папок
- Удаление дублирования кода

#### Документация
- Подробный README с примерами
- API документация со всеми endpoints
- Руководство по развертыванию
- Contributing guidelines
- Комментарии в коде

---

## [Unreleased]

### Планируется

#### Функции
- [ ] Email уведомления о новых задачах
- [ ] Push уведомления
- [ ] Экспорт данных (CSV, PDF)
- [ ] Теги для задач
- [ ] Вложенные задачи (subtasks)
- [ ] Повторяющиеся задачи
- [ ] Календарный вид
- [ ] Gantt диаграммы
- [ ] Time tracking
- [ ] Отчеты и аналитика

#### Улучшения
- [ ] Темная тема
- [ ] Настройка языка интерфейса
- [ ] Горячие клавиши
- [ ] Офлайн режим (PWA)
- [ ] Улучшенный поиск с фильтрами
- [ ] Массовое редактирование задач
- [ ] История изменений задач
- [ ] Шаблоны проектов

#### Техническое
- [ ] Unit тесты
- [ ] E2E тесты (Playwright)
- [ ] CI/CD pipeline
- [ ] Автоматический деплой
- [ ] Мониторинг ошибок (Sentry)
- [ ] Analytics (Plausible)

---

## Типы изменений

- `Добавлено` - новые функции
- `Изменено` - изменения в существующей функциональности
- `Устарело` - функции, которые скоро будут удалены
- `Удалено` - удаленные функции
- `Исправлено` - исправления багов
- `Безопасность` - исправления уязвимостей
- `Улучшено` - улучшения производительности или UX

---

## Ссылки

- [GitHub Releases](https://github.com/yourusername/t24-task-manager/releases)
- [Issues](https://github.com/yourusername/t24-task-manager/issues)
- [Pull Requests](https://github.com/yourusername/t24-task-manager/pulls)
